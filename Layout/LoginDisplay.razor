@using Microsoft.AspNetCore.Components.Authorization
@inject AlbumTracker.Services.FirebaseAuthStateProvider AuthProvider

<AuthorizeView>
    <Authorized>
        <span>Hello, @context.User.Identity?.Name</span>
        <button class="btn btn-sm btn-outline-secondary" @onclick="SignOut">Log out</button>
    </Authorized>
    <NotAuthorized>
        <button class="btn btn-sm btn-primary" @onclick="SignIn">Sign in with Google</button>
    </NotAuthorized>
</AuthorizeView>

@code {
    private async Task SignIn()
    {
        await AuthProvider.SignInWithGoogleAsync();
    }

    private async Task SignOut()
    {
        await AuthProvider.SignOutAsync();
    }
}